#include "zcr_func.h"
#include "math.h"


//**********************************************************************************************************
//********************* Obtención de la señal de entrada a partir del codec   ******************************
//**********************************************************************************************************

//acá va el codigo para manejar el codec, inicializar y lectura


//**********************************************************************************************************


//**********************************************************************************************************
//***************** Funcion que haya el signo del valor que es pasado como parametro ***********************
//**********************************************************************************************************

int signo(_fract x)
{
	if (x == 0)
		return 0;

	return (x/fabs(x));
}
//**********************************************************************************************************


//**********************************************************************************************************
//********** Funcion que haya los cruces por cero de una señal que es pasada como parametro ****************
//**********************************************************************************************************

int zcr(_fract *s, int largo)
{
	int i, sg, z;
	_fract p;

	z=0;
	
	for (i=1; i<largo; i++) 
	{
		p  = *(s+i) * (*(s+i-1));
		sg = signo(p);
		if (sg == -1 | *(s+i) == 0)
			z++;
	}
	return z;
}
//**********************************************************************************************************